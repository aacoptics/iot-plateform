{"version":3,"sources":["webpack:///./src/components/Tags.vue?8a88","webpack:///./src/components/Tags.vue","webpack:///./src/components/Tags.vue?5e67","webpack:///./node_modules/core-js/modules/es.array.filter.js"],"names":["class","showTags","tagsList","item","index","isActive","path","key","to","title","closeTags","handleTags","dropdown","size","command","type","computed","this","$store","state","length","methods","$route","fullPath","delItem","commit","$router","push","closeAll","closeOther","curItem","filter","setTags","route","isExist","some","name","meta","watch","newValue","created","render","$","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"kHAAA,W,kECCSA,MAAM,Q,EAUK,eAA6B,KAA1BA,MAAM,iBAAe,S,GAI/BA,MAAM,kB,iBAEmC,U,EAElC,eAAiD,KAA9CA,MAAM,qCAAmC,S,iBAIN,Q,iBACF,Q,2MAvB5B,EAAAC,U,iBAAxB,eA4BM,MA5BN,EA4BM,CA3BF,eAYK,Y,mBAXD,eAUK,2BARsB,EAAAC,UAAQ,SAAvBC,EAAKC,G,wBAFjB,eAUK,MATDJ,MAAK,CAAC,UAAS,QAEI,EAAAK,SAASF,EAAKG,QAChCC,IAAKH,G,CAEN,eAA+E,GAAjEI,GAAIL,EAAKG,KAAMN,MAAM,iB,0BAAgB,iBAAc,C,8BAAZG,EAAKM,OAAK,O,kBAC/D,eAEO,QAFDT,MAAM,eAAgB,QAAK,mBAAE,EAAAU,UAAUN,K,CACzC,G,8BAIZ,eAaM,MAbN,EAaM,CAZF,eAWc,GAXA,UAAS,EAAAO,YAAU,CAKlBC,SAAQ,iBACf,iBAGmB,CAHnB,eAGmB,GAHDC,KAAK,SAAO,C,yBAC1B,iBAAyD,CAAzD,eAAyD,GAAvCC,QAAQ,SAAO,C,yBAAC,iBAAI,C,YACtC,eAAuD,GAArCA,QAAQ,OAAK,C,yBAAC,iBAAI,C,mDAP5C,iBAGY,CAHZ,eAGY,GAHDD,KAAK,OAAOE,KAAK,W,0BAAU,iBAElC,C,EAAA,M,mFAcL,GACXC,SAAU,CACNd,SADM,WAEF,OAAOe,KAAKC,OAAOC,MAAMjB,UAE7BD,SAJM,WAKF,OAAOgB,KAAKf,SAASkB,OAAS,IAGtCC,QAAS,CACLhB,SADK,SACIC,GACL,OAAOA,IAASW,KAAKK,OAAOC,UAGhCb,UALK,SAKKN,GACN,IAAMoB,EAAUP,KAAKf,SAASE,GAC9Ba,KAAKC,OAAOO,OAAO,cAAe,CAAErB,UACpC,IAAMD,EAAOc,KAAKf,SAASE,GACrBa,KAAKf,SAASE,GACda,KAAKf,SAASE,EAAQ,GACxBD,EACAqB,EAAQlB,OAASW,KAAKK,OAAOC,UACzBN,KAAKS,QAAQC,KAAKxB,EAAKG,MAE3BW,KAAKS,QAAQC,KAAK,MAI1BC,SAnBK,WAoBDX,KAAKC,OAAOO,OAAO,aACnBR,KAAKS,QAAQC,KAAK,MAGtBE,WAxBK,WAwBQ,WACHC,EAAUb,KAAKf,SAAS6B,QAAO,SAAA5B,GACjC,OAAOA,EAAKG,OAAS,EAAKgB,OAAOC,YAErCN,KAAKC,OAAOO,OAAO,iBAAkBK,IAGzCE,QA/BK,SA+BGC,GACJ,IAAMC,EAAUjB,KAAKf,SAASiC,MAAK,SAAAhC,GAC/B,OAAOA,EAAKG,OAAS2B,EAAMV,YAE1BW,IACGjB,KAAKf,SAASkB,QAAU,GACxBH,KAAKC,OAAOO,OAAO,cAAe,CAAErB,MAAO,IAE/Ca,KAAKC,OAAOO,OAAO,cAAe,CAC9BW,KAAMH,EAAMG,KACZ3B,MAAOwB,EAAMI,KAAK5B,MAClBH,KAAM2B,EAAMV,aAIxBZ,WA9CK,SA8CMG,GACK,UAAZA,EAAsBG,KAAKY,aAAeZ,KAAKW,aAGvDU,MAAO,CACHhB,OADG,SACIiB,GACHtB,KAAKe,QAAQO,KAGrBC,QAhEW,WAiEPvB,KAAKe,QAAQf,KAAKK,U,UC7F1B,EAAOmB,OAASA,EAED,gB,oCCNf,IAAIC,EAAI,EAAQ,QACZC,EAAU,EAAQ,QAAgCZ,OAClDa,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,UAKvDF,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASH,GAAuB,CAChEd,OAAQ,SAAgBkB,GACtB,OAAON,EAAQ1B,KAAMgC,EAAYC,UAAU9B,OAAS,EAAI8B,UAAU,QAAKC,O","file":"js/chunk-144637d3.15eaa566.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tags.vue?vue&type=style&index=0&id=9362922e&lang=css\"","<template>\r\n    <div class=\"tags\" v-if=\"showTags\">\r\n        <ul>\r\n            <li\r\n                class=\"tags-li\"\r\n                v-for=\"(item,index) in tagsList\"\r\n                :class=\"{'active': isActive(item.path)}\"\r\n                :key=\"index\"\r\n            >\r\n                <router-link :to=\"item.path\" class=\"tags-li-title\">{{item.title}}</router-link>\r\n                <span class=\"tags-li-icon\" @click=\"closeTags(index)\">\r\n                    <i class=\"el-icon-close\"></i>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n        <div class=\"tags-close-box\">\r\n            <el-dropdown @command=\"handleTags\">\r\n                <el-button size=\"mini\" type=\"primary\">\r\n                    标签选项\r\n                    <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </el-button>\r\n                <template #dropdown>\r\n                    <el-dropdown-menu size=\"small\">\r\n                        <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\r\n                        <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\r\n                    </el-dropdown-menu>\r\n                </template>\r\n            </el-dropdown>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    computed: {\r\n        tagsList() {\r\n            return this.$store.state.tagsList;\r\n        },\r\n        showTags() {\r\n            return this.tagsList.length > 0;\r\n        }\r\n    },\r\n    methods: {\r\n        isActive(path) {\r\n            return path === this.$route.fullPath;\r\n        },\r\n        // 关闭单个标签\r\n        closeTags(index) {\r\n            const delItem = this.tagsList[index];\r\n            this.$store.commit(\"delTagsItem\", { index });\r\n            const item = this.tagsList[index]\r\n                ? this.tagsList[index]\r\n                : this.tagsList[index - 1];\r\n            if (item) {\r\n                delItem.path === this.$route.fullPath &&\r\n                    this.$router.push(item.path);\r\n            } else {\r\n                this.$router.push(\"/\");\r\n            }\r\n        },\r\n        // 关闭全部标签\r\n        closeAll() {\r\n            this.$store.commit(\"clearTags\");\r\n            this.$router.push(\"/\");\r\n        },\r\n        // 关闭其他标签\r\n        closeOther() {\r\n            const curItem = this.tagsList.filter(item => {\r\n                return item.path === this.$route.fullPath;\r\n            });\r\n            this.$store.commit(\"closeTagsOther\", curItem);\r\n        },\r\n        // 设置标签\r\n        setTags(route) {\r\n            const isExist = this.tagsList.some(item => {\r\n                return item.path === route.fullPath;\r\n            });\r\n            if (!isExist) {\r\n                if (this.tagsList.length >= 8) {\r\n                    this.$store.commit(\"delTagsItem\", { index: 0 });\r\n                }\r\n                this.$store.commit(\"setTagsItem\", {\r\n                    name: route.name,\r\n                    title: route.meta.title,\r\n                    path: route.fullPath\r\n                });\r\n            }\r\n        },\r\n        handleTags(command) {\r\n            command === \"other\" ? this.closeOther() : this.closeAll();\r\n        }\r\n    },\r\n    watch: {\r\n        $route(newValue) {\r\n            this.setTags(newValue);\r\n        }\r\n    },\r\n    created() {\r\n        this.setTags(this.$route);\r\n        // 关闭当前页面的标签页\r\n        // this.$store.commit(\"closeCurrentTag\", {\r\n        //     $router: this.$router,\r\n        //     $route: this.$route\r\n        // });\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n.tags {\r\n    position: relative;\r\n    height: 30px;\r\n    overflow: hidden;\r\n    background: #fff;\r\n    padding-right: 120px;\r\n    box-shadow: 0 5px 10px #ddd;\r\n}\r\n\r\n.tags ul {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.tags-li {\r\n    float: left;\r\n    margin: 3px 5px 2px 3px;\r\n    border-radius: 3px;\r\n    font-size: 12px;\r\n    overflow: hidden;\r\n    cursor: pointer;\r\n    height: 23px;\r\n    line-height: 23px;\r\n    border: 1px solid #e9eaec;\r\n    background: #fff;\r\n    padding: 0 5px 0 12px;\r\n    vertical-align: middle;\r\n    color: #666;\r\n    -webkit-transition: all 0.3s ease-in;\r\n    -moz-transition: all 0.3s ease-in;\r\n    transition: all 0.3s ease-in;\r\n}\r\n\r\n.tags-li:not(.active):hover {\r\n    background: #f8f8f8;\r\n}\r\n\r\n.tags-li.active {\r\n    color: #fff;\r\n}\r\n\r\n.tags-li-title {\r\n    float: left;\r\n    max-width: 80px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    margin-right: 5px;\r\n    color: #666;\r\n}\r\n\r\n.tags-li.active .tags-li-title {\r\n    color: #fff;\r\n}\r\n\r\n.tags-close-box {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    box-sizing: border-box;\r\n    padding-top: 1px;\r\n    text-align: center;\r\n    width: 110px;\r\n    height: 30px;\r\n    background: #fff;\r\n    box-shadow: -3px 0 15px 3px rgba(0, 0, 0, 0.1);\r\n    z-index: 10;\r\n}\r\n</style>\r\n","import { render } from \"./Tags.vue?vue&type=template&id=9362922e\"\nimport script from \"./Tags.vue?vue&type=script&lang=js\"\nexport * from \"./Tags.vue?vue&type=script&lang=js\"\n\nimport \"./Tags.vue?vue&type=style&index=0&id=9362922e&lang=css\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}